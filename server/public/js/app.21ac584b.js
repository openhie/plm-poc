(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],u=0,v=[];u<s.length;u++)o=s[u],r[o]&&v.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(v.length)v.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=a("bb71");a("da64"),a("b56c");n["a"].use(r["a"],{iconfont:"md",theme:{primary:"#569fd3",secondary:"#5f6062",accent:"#78496a",error:"#b32317",info:"#005595",success:"#8a8d35",warning:"#d06f1a"}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-toolbar",{attrs:{color:"primary",dark:"",app:""}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",{staticClass:"font-weight-bold"},[e._v("PLM:")]),a("span",{staticClass:"font-italic font-weight-light"},[e._v("  Proof of Concept")])]),a("v-spacer")],1),a("v-content",[a("MainTabs")],1)],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-tabs",{attrs:{centered:"",color:"secondary",dark:"","icons-and-text":""}},[a("v-tabs-slider",{attrs:{color:"white"}}),a("v-tab",{attrs:{href:"#form"}},[e._v("\n      Add Viral Load\n      "),a("v-icon",[e._v("person_add")])],1),a("v-tab",{attrs:{href:"#csv"}},[e._v("\n      View Data\n      "),a("v-icon",[e._v("list")])],1),a("v-tab-item",{key:"form",attrs:{value:"form"}},[a("ViralLoadForm")],1),a("v-tab-item",{key:"csv",attrs:{value:"csv"}},[a("ViewCSV")],1)],1)],1)},l=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",{staticClass:"primary",attrs:{"primary-title":""}},[a("div",{staticClass:"headline white--text"},[e._v("Add Viral Load")])]),a("v-card-text",[a("v-text-field",{ref:"loc",attrs:{"prepend-icon":"location_on",label:"Location ID",readonly:"",disabled:""},model:{value:e.locationId,callback:function(t){e.locationId=t},expression:"locationId"}}),a("v-select",{ref:"service",attrs:{"prepend-icon":"assignment",items:e.services,"item-text":"text","item-value":"value",label:"Service",chips:"",readonly:"",disabled:""},model:{value:e.service,callback:function(t){e.service=t},expression:"service"}}),a("v-divider"),a("v-form",{ref:"form"},[a("v-snackbar",{attrs:{"auto-height":"",absolute:"",top:"","multi-line":"",color:"accent"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.results)+"\n        "),a("v-btn",{attrs:{flat:"",icon:""},on:{click:function(t){e.snackbar=!1}}},[a("v-icon",[e._v("close")]),e._v("Close")],1)],1),a("v-text-field",{attrs:{"prepend-icon":"person",label:"Patient ID",required:"",rules:e.rules},model:{value:e.patientId,callback:function(t){e.patientId=t},expression:"patientId"}}),a("v-text-field",{attrs:{"prepend-icon":"assignment_ind",label:"Practitioner ID",required:"",rules:e.rules},model:{value:e.practitionerId,callback:function(t){e.practitionerId=t},expression:"practitionerId"}}),a("v-select",{attrs:{rules:e.rules,"prepend-icon":"wc",items:e.genders,"item-text":"text","item-value":"value",label:"Gender",required:""}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{rules:e.rules,label:"Date of Birth","prepend-icon":"event"},model:{value:e.dateOfBirth,callback:function(t){e.dateOfBirth=t},expression:"dateOfBirth"}},n))]}}]),model:{value:e.birthDateMenu,callback:function(t){e.birthDateMenu=t},expression:"birthDateMenu"}},[a("v-date-picker",{attrs:{landscape:"",scrollable:""},on:{input:function(t){e.birthDateMenu=!1}},model:{value:e.dateOfBirth,callback:function(t){e.dateOfBirth=t},expression:"dateOfBirth"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"580px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{rules:e.rules,label:"Observation Date","prepend-icon":"event"},model:{value:e.obsDate,callback:function(t){e.obsDate=t},expression:"obsDate"}},n))]}}]),model:{value:e.obsDateMenu,callback:function(t){e.obsDateMenu=t},expression:"obsDateMenu"}},[a("v-date-picker",{attrs:{"show-current":"",landscape:"",reactive:""},model:{value:e.obsDateOnly,callback:function(t){e.obsDateOnly=t},expression:"obsDateOnly"}}),a("v-time-picker",{attrs:{"show-current":"",landscape:"",reactive:""},model:{value:e.obsTime,callback:function(t){e.obsTime=t},expression:"obsTime"}}),a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.obsDateMenu=!1}}},[e._v("OK")])],1),a("v-text-field",{attrs:{rules:e.rules,"prepend-icon":"assessment",type:"number",label:"Viral Load /mL"},model:{value:e.viralLoad,callback:function(t){e.viralLoad=t},expression:"viralLoad"}}),a("v-btn",{attrs:{color:"success"},on:{click:e.save}},[e._v("Save")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.reset}},[e._v("Reset")])],1)],1)],1)},d=[],u=a("5d73"),v=a.n(u),f=(a("28a5"),a("768b")),p=a("bc3a"),b=a.n(p),m={data:function(){return{inputs:["patientId","practitionerId","locationId","gender","dateOfBirth","obsDate","viralLoad"],patientId:"",practitionerId:"",locationId:"aBcD",gender:"",dateOfBirth:"",obsDateOnly:(new Date).toISOString().substring(0,10),obsTime:(new Date).toISOString().substring(11,19),service:"TX_PVLS",viralLoad:0,genders:[{value:"male",text:"Male"},{value:"female",text:"Female"},{value:"other",text:"Other"},{value:"unknown",text:"Unknown"}],services:[{value:"TX_PVLS",text:"Viral Load"}],birthDateMenu:!1,obsDateMenu:!1,snackbar:!1,results:"OK",rules:[function(e){return!!e||"Required field"}]}},computed:{obsDate:{get:function(){return this.obsDateOnly+" "+this.obsTime},set:function(e){if(e){var t=e.split(" "),a=Object(f["a"])(t,2);this.obsDateOnly=a[0],this.obsTime=a[1]}}}},mounted:function(){this.loaded=!0},methods:{reset:function(){this.$refs.form.reset(),this.obsDateOnly=(new Date).toISOString().substring(0,10),this.obsTime=(new Date).toISOString().substring(11,19)},save:function(){var e=this;if(this.$refs.form.validate()){var t={},a=!0,n=!1,r=void 0;try{for(var i,o=v()(this.inputs);!(a=(i=o.next()).done);a=!0){var s=i.value;t[s]=this[s]}}catch(l){n=!0,r=l}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}b.a.post("/"+this.service,t).then(function(t){"1"==t.data.ok?(e.results="Patient Viral Load has been saved.",e.reset()):e.results="An error occurred: "+t.data.error.errors[0].message,e.snackbar=!0}).catch(function(t){e.results="An error occurred: "+t,e.snackbar=!0})}else this.results="Invalid input, please correct all errors.",this.snackbar=!0}}},h=m,_=a("2877"),x=a("6544"),k=a.n(x),D=a("8336"),y=a("b0af"),g=a("99d9"),w=a("12b2"),V=a("2e4b"),O=a("ce7e"),I=a("4bd4"),L=a("132d"),S=a("e449"),T=a("b56d"),M=a("2db4"),C=a("9910"),P=a("2677"),B=a("c964"),j=Object(_["a"])(h,c,d,!1,null,null,null),A=j.exports;k()(j,{VBtn:D["a"],VCard:y["a"],VCardText:g["a"],VCardTitle:w["a"],VDatePicker:V["a"],VDivider:O["a"],VForm:I["a"],VIcon:L["a"],VMenu:S["a"],VSelect:T["a"],VSnackbar:M["a"],VSpacer:C["a"],VTextField:P["a"],VTimePicker:B["a"]});var $=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",{staticClass:"primary",attrs:{"primary-title":""}},[a("div",{staticClass:"headline white--text"},[e._v("View Data "+e._s(e.dateLimit))])]),a("v-card-text",[a("v-btn",{attrs:{color:"accent"},on:{click:function(t){return e.update(!0)}}},[e._v("Retrieve All Data")]),e.showDate?e._e():[a("v-btn",{attrs:{color:"accent"},on:{click:function(t){e.showDate=!0}}},[e._v("Select By Date")])],e.showDate?[a("v-btn",{attrs:{color:"accent"},on:{click:function(t){e.showDate=!1}}},[e._v("Hide Date")]),a("v-date-picker",{attrs:{landscape:"",reactive:""},on:{input:function(t){return e.update(!1)}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})]:e._e(),a("v-data-table",{ref:"table",attrs:{headers:e.headers,items:e.items},scopedSlots:e._u([{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n          Select the date to view the data updates since that date.\n        ")])]},proxy:!0},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.service))]),a("td",[e._v(e._s(t.item.locationId))]),a("td",[e._v(e._s(t.item.patientId))]),a("td",[e._v(e._s(t.item.practitionerId))]),a("td",[e._v(e._s(t.item.gender))]),a("td",[e._v(e._s(t.item.dateOfBirth))]),a("td",[e._v(e._s(t.item.obsDate))]),a("td",[e._v(e._s(t.item.viralLoad))]),a("td",[e._v(e._s(t.item.updatedAt))])]}},e.downloadLink?{key:"footer",fn:function(){return[a("td",{attrs:{colspan:e.headers.length}},[a("v-btn",{attrs:{right:"",href:e.downloadLink,color:"success"}},[e._v("Download Data")])],1)]},proxy:!0}:null],null,!0)},[a("v-progress-linear",{attrs:{color:"blue",indeterminate:""},scopedSlots:e._u([{key:"progress",fn:function(){},proxy:!0}])})],1)],2)],1)},F=[],q={data:function(){return{date:"",dateLimit:"",headers:[{text:"Service",value:"service"},{text:"Location ID",value:"locationId"},{text:"Patient ID",value:"patientId"},{text:"Practitioner ID",value:"practitionerId"},{text:"Gender",value:"gender"},{text:"Date of Birth",value:"dateOfBirth"},{text:"Observation Date",value:"obsDate"},{text:"Viral Load /mL",value:"viralLoad"},{text:"Last Updated",value:"updatedAt"}],items:[],downloadLink:!1,showDate:!1}},methods:{update:function(e){var t=this,a="";!e&&this.date&&(a="?_since="+this.date),b.a.get("/all.json"+a).then(function(a){e?(t.dateLimit="Since All Time",t.downloadLink="/all.csv"):t.date&&(t.dateLimit="Since: "+t.date,t.downloadLink="/all.csv?_since="+t.date),t.items=a.data,0===t.items.length&&(t.downloadLink=!1)})}}},E=q,R=a("0798"),z=a("8fea"),G=a("8e36"),J=Object(_["a"])(E,$,F,!1,null,null,null),K=J.exports;k()(J,{VAlert:R["a"],VBtn:D["a"],VCard:y["a"],VCardText:g["a"],VCardTitle:w["a"],VDataTable:z["a"],VDatePicker:V["a"],VProgressLinear:G["a"]});var U={name:"MainTabs",components:{ViralLoadForm:A,ViewCSV:K},data:function(){return{}}},X=U,H=a("a523"),N=a("71a3"),Q=a("c671"),W=a("fe57"),Y=a("9a96"),Z=Object(_["a"])(X,s,l,!1,null,null,null),ee=Z.exports;k()(Z,{VContainer:H["a"],VIcon:L["a"],VTab:N["a"],VTabItem:Q["a"],VTabs:W["a"],VTabsSlider:Y["a"]});var te={name:"App",components:{MainTabs:ee},data:function(){return{}}},ae=te,ne=a("7496"),re=a("549c"),ie=a("71d9"),oe=a("2a7f"),se=Object(_["a"])(ae,i,o,!1,null,null,null),le=se.exports;k()(se,{VApp:ne["a"],VContent:re["a"],VSpacer:C["a"],VToolbar:ie["a"],VToolbarTitle:oe["a"]}),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(le)}}).$mount("#app")},b56c:function(e,t,a){}});
//# sourceMappingURL=app.21ac584b.js.map